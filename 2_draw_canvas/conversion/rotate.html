<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>rotate</title>
    <script>
        window.addEventListener("load", eventWindowLoaded, false);

        function eventWindowLoaded () {
            canvasApp();
        }

        function canvasApp () {
            var theCanvas = document.getElementById("canvasOne");
            var context = theCanvas.getContext("2d");

            if(!theCanvas || !theCanvas.getContext) {
                console.error("canavs does not exist.");
            }

            function drawScreen() {
                /*
                // TODO: 간단한 회전 변환
                // 빨간색 사각형이 회전된 것처럼 보이지만 실제로는 캔버스도 같이 회전되었다.
                context.setTransform(1, 0, 0, 1, 0, 0);
                let angleInRadians = 45 * Math.PI/180;
                context.rotate(angleInRadians);
                context.fillStyle = "red";
                context.fillRect(100, 100, 50, 50);
                */

                /*
                // TODO: 회전과 캔버스 현재 상태
                // 검은색 사각형을 그린다.
                context.fillStyle = "black";
                context.fillRect(20, 20, 25, 25);

                // 이제 빨간색 사각형을 그린다.
                context.setTransform(1, 0, 0, 1, 0, 0);
                let angleInRadians = 45 * Math.PI/180;
                let x = 100;
                let y = 100;
                let width = 50;
                let height = 50;
                context.translate(x + 0.5 * width, y + 0.5 * height);
                context.rotate(angleInRadians);
                context.fillStyle = "red";
                context.fillRect(-0.5 * width, -0.5 * height, width, height);
                */

                // 빨간색 사각형을 그린다.
                context.setTransform(1, 0, 0, 1, 0, 0);
                let angleInRadians = 45 * Math.PI/180;
                let x = 50;
                let y = 100;
                let width = 40;
                let height = 40;
                context.translate(x + 0.5 * width, y + 0.5 * height);
                context.rotate(angleInRadians);
                context.fillStyle = "red";
                context.fillRect(-0.5 * width, -0.5 * height, width, height);

                context.setTransform(1, 0, 0, 1, 0, 0);
                angleInRadians = 75 * Math.PI/180;
                x = 100;
                y = 100;
                width = 40;
                height = 40;
                context.translate(x + 0.5 * width, y + 0.5 * height);
                context.rotate(angleInRadians);
                context.fillStyle = "red";
                context.fillRect(-0.5 * width, -0.5 * height, width, height);

                context.setTransform(1, 0, 0, 1, 0, 0);
                angleInRadians = 90 * Math.PI/180;
                x = 150;
                y = 100;
                width = 40;
                height = 40;
                context.translate(x + 0.5 * width, y + 0.5 * height);
                context.rotate(angleInRadians);
                context.fillStyle = "red";
                context.fillRect(-0.5 * width, -0.5 * height, width, height);

                context.setTransform(1, 0, 0, 1, 0, 0);
                angleInRadians = 120 * Math.PI/180;
                x = 200;
                y = 100;
                width = 40;
                height = 40;
                context.translate(x + 0.5 * width, y + 0.5 * height);
                context.rotate(angleInRadians);
                context.fillStyle = "red";
                context.fillRect(-0.5 * width, -0.5 * height, width, height);
            }
            drawScreen();
        }
    </script>
</head>
<body>
    <canvas id="canvasOne" width="500" height="300"/>
</body>
</html>
